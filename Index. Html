<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Catur Browser</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: Arial, sans-serif;
    background: #f0f0f0;
    margin: 0;
    padding: 20px;
  }
  h1 { margin-bottom: 10px; }
  #turn { margin-bottom: 10px; font-weight: bold; }
  #board {
    display: grid;
    grid-template-columns: repeat(8, 60px);
    grid-template-rows: repeat(8, 60px);
    border: 2px solid #333;
  }
  .square {
    width: 60px;
    height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 36px;
    cursor: pointer;
  }
  .white { background-color: #eee; }
  .black { background-color: #666; color: #fff; }
  .highlight { background-color: #ffeb3b !important; }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 16px;
  }
</style>
</head>
<body>
<h1>Game Catur Browser</h1>
<div id="turn">Giliran: Putih</div>
<div id="board"></div>
<button onclick="restartGame()">Restart Game</button>

<script>
// Simbol catur Unicode
const pieces = {
  'wp': '♙', 'wr': '♖', 'wn': '♘', 'wb': '♗', 'wq': '♕', 'wk': '♔',
  'bp': '♟', 'br': '♜', 'bn': '♞', 'bb': '♝', 'bq': '♛', 'bk': '♚'
};

// Setup awal papan
let board = [
  ['br','bn','bb','bq','bk','bb','bn','br'],
  ['bp','bp','bp','bp','bp','bp','bp','bp'],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['wp','wp','wp','wp','wp','wp','wp','wp'],
  ['wr','wn','wb','wq','wk','wb','wn','wr']
];

let selected = null;
let turn = 'w'; // w = putih, b = hitam
const boardDiv = document.getElementById('board');
const turnDiv = document.getElementById('turn');

// Render papan
function renderBoard() {
  boardDiv.innerHTML = '';
  for(let r=0; r<8; r++) {
    for(let c=0; c<8; c++) {
      const square = document.createElement('div');
      square.classList.add('square');
      square.classList.add((r+c)%2===0 ? 'white' : 'black');
      square.dataset.row = r;
      square.dataset.col = c;
      square.textContent = pieces[board[r][c]] || '';
      square.onclick = () => squareClick(r,c);
      boardDiv.appendChild(square);
    }
  }
}

// Pilih dan gerakkan bidak
function squareClick(r,c){
  const piece = board[r][c];
  if(selected) {
    if(!piece || piece[0] !== turn) {
      board[r][c] = board[selected.row][selected.col];
      board[selected.row][selected.col] = '';
      selected = null;
      turn = turn === 'w' ? 'b' : 'w';
      turnDiv.textContent = 'Giliran: ' + (turn==='w' ? 'Putih' : 'Hitam');
      renderBoard();
      return;
    }
  }
  if(piece && piece[0] === turn) {
    selected = {row: r, col: c};
    highlightMoves(r,c);
  }
}

// Highlight gerakan legal sederhana
function highlightMoves(r,c){
  renderBoard();
  const squares = document.querySelectorAll('.square');
  squares.forEach(sq=>{
    const sr = parseInt(sq.dataset.row);
    const sc = parseInt(sq.dataset.col);
    if(Math.abs(sr-r)<=1 && Math.abs(sc-c)<=1 && !(sr===r && sc===c)) {
      sq.classList.add('highlight');
    }
  });
}

// Restart game
function restartGame(){
  board = [
    ['br','bn','bb','bq','bk','bb','bn','br'],
    ['bp','bp','bp','bp','bp','bp','bp','bp'],
    ['','','','','','','',''],
    ['','','','','','','',''],
    ['','','','','','','',''],
    ['','','','','','','',''],
    ['wp','wp','wp','wp','wp','wp','wp','wp'],
    ['wr','wn','wb','wq','wk','wb','wn','wr']
  ];
  turn = 'w';
  selected = null;
  turnDiv.textContent = 'Giliran: Putih';
  renderBoard();
}

renderBoard();
</script>
</body>
</html>
